

--!strict
-- This is a LOCAL SCRIPT for Roblox.
-- Designed to be compatible with Roblox exploit executors like Delta.

-- Give the executor and game a moment to fully initialize.
task.wait(0.5) 

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local Workspace = game:GetService("Workspace")
local RunService = game:GetService("RunService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local StarterGui = game:GetService("StarterGui")

local LocalPlayer = Players.LocalPlayer
-- Wait for the character to load, as it's crucial for most features
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local Humanoid = Character:WaitForChild("Humanoid")
local RootPart = Character:WaitForChild("HumanoidRootPart")

-- --- Configuration ---
local DISCORD_LINK = "https://discord.gg/nhXwbum82"
local HUB_NAME = "Hellsing Hub" -- Updated to "Hellsing Hub"
local LOGO_FONT_ID = "rbxassetid://75505827253063" -- Custom font for "O HELLSING -HUB-"

local DEFAULT_WALKSPEED = 16
local STEAL_RANGE = 30 -- Range for conceptual stealing
local STEAL_COOLDOWN = 0.5 -- Cooldown for conceptual stealing (in seconds)
local GRAB_RANGE = 20 -- Range for conceptual auto grab
local GRAB_COOLDOWN = 0.1 -- Cooldown for conceptual auto grab (in seconds)
local ITEM_NAMES_TO_GRAB = {"Coin", "Gem", "Pickup", "Loot"} -- <<< CUSTOMIZE THESE NAMES FOR AUTO GRAB

-- --- Feature Settings (Conceptual Toggles & Values) ---
-- These are just flags and values managed by the UI.
-- Most of these features are NOT functionally implemented as exploits.
-- Only the Speed Booster is functional.
local features = {
    -- General purpose flag, could be for tab management later
    mainHub = { enabled = true },

    -- Stealer Feature (UI-only placeholder)
    stealer = {
        enabled = false,
        lastStealTime = 0,
        targetName = "Player", -- Placeholder for who to target
        itemName = "Brainrot"  -- Placeholder for what to steal
    },

    -- Helper Feature (UI-only placeholder - e.g., noclip, fly, etc.)
    helper = { enabled = false },

    -- Player Feature (UI-only placeholder - e.g., god mode, infinite jump, etc.)
    player = { enabled = false },

    -- Farm Feature (UI-only placeholder - e.g., auto-collect resources, auto-mine, etc.)
    farm = { enabled = false },

    -- Auto Fish Feature (UI-only placeholder)
    autoFish = {
        enabled = false,
        lastActionTime = 0 -- For cooldowns
    },

    -- Auto Buy Best Rod Feature (UI-only placeholder)
    autoBuyBestRod = { enabled = false },

    -- Sell if less than M/s Feature (UI-only placeholder)
    sellIfLessThan = {
        enabled = false, -- Toggle for this feature
        value = 0        -- Threshold value (e.g., sell if current is less than this)
    },

    -- Finder Feature (UI-only placeholder - e.g., ESP, item/player locator)
    finder = { enabled = false },

    -- Server Feature (UI-only placeholder - e.g., server hop, server info)
    server = { enabled = false },

    -- Discord Link Display (UI element, not a toggle, but conceptually part of features)
    discord = { enabled = true },

    -- Auto Sell Pets Feature (UI-only placeholder)
    autoSellPets = {
        enabled = false,
        lastActionTime = 0 -- For cooldowns
    },

    -- Auto Buy Brainrot Feature (UI-only placeholder)
    autoBuyBrainrot = {
        enabled = false,
        value = 10000 -- Default buy amount
    },

    -- Speed Booster Feature (FUNCTIONAL)
    speedBooster = {
        enabled = false,
        value = 31 -- Default speed multiplier
    },

    -- Auto Grab Feature (UI-only placeholder)
    autoGrab = {
        enabled = false,
        lastGrabTime = 0 -- For cooldowns
    }
}

-- --- UI Creation ---
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "HellsingHubUI"
-- Ensure PlayerGui is loaded before parenting
ScreenGui.Parent = LocalPlayer:WaitForChild("PlayerGui") 
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- Hide the default Roblox topbar for a cleaner look
StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.All, false)

local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 300, 0, 450) -- Standard size for the main GUI window
MainFrame.Position = UDim2.new(0.5, -150, 0.5, -225) -- Centers the GUI on screen
MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25) -- Dark background
MainFrame.BorderSizePixel = 0
MainFrame.CornerRadius = UDim.new(0, 8) -- Rounded corners for a modern look
MainFrame.Draggable = true -- Allows the user to drag the GUI around
MainFrame.Parent = ScreenGui

-- Layout for vertical stacking of elements within the main frame
local MainLayout = Instance.new("UIListLayout")
MainLayout.FillDirection = Enum.FillDirection.Vertical
MainLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
MainLayout.Padding = UDim.new(0, 10) -- Space between elements
MainLayout.Parent = MainFrame

-- --- Topbar Section (for Logo and Title) ---
local TopbarFrame = Instance.new("Frame")
TopbarFrame.Size = UDim2.new(1, 0, 0, 50) -- Full width, 50px height
TopbarFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40) -- Slightly lighter dark for contrast
TopbarFrame.BorderSizePixel = 0
TopbarFrame.Parent = MainFrame
TopbarFrame.LayoutOrder = 1 -- Ensures it's at the very top

-- Horizontal layout for content inside the Topbar
local TopbarLayout = Instance.new("UIListLayout")
TopbarLayout.FillDirection = Enum.FillDirection.Horizontal
TopbarLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
TopbarLayout.VerticalAlignment = Enum.VerticalAlignment.Center
TopbarLayout.Padding = UDim.new(0, 10)
TopbarLayout.Parent = TopbarFrame

-- Your Custom Text Logo "O HELLSING -HUB-"
local TextLogoLabel = Instance.new("TextLabel")
TextLogoLabel.Size = UDim2.new(0, 0, 0, 40) -- Auto size width, fixed height
TextLogoLabel.Text = "O HELLSING -HUB-"
TextLogoLabel.Font = Enum.Font.Custom -- Specifies using a custom font asset
TextLogoLabel.FontFace = Font.new(LOGO_FONT_ID, Enum.FontWeight.Bold, Enum.FontStyle.Normal) -- Applies your custom font
TextLogoLabel.TextColor3 = Color3.fromRGB(255, 100, 100) -- Reddish color for emphasis/branding
TextLogoLabel.TextSize = 26 -- Size of the text
TextLogoLabel.BackgroundTransparency = 1
TextLogoLabel.Parent = TopbarFrame
TextLogoLabel.LayoutOrder = 1 -- Positions it on the left within the TopbarLayout

-- Hub Title Text 
local TitleText = Instance.new("TextLabel")
TitleText.Size = UDim2.new(0, 150, 0, 40) -- Fixed size, adjust as needed
TitleText.Text = HUB_NAME -- Displays "Hellsing Hub"
TitleText.Font = Enum.Font.Roboto -- A clear, modern font
TitleText.TextColor3 = Color3.fromRGB(255, 255, 255)
TitleText.TextSize = 20
TitleText.BackgroundTransparency = 1
TitleText.TextXAlignment = Enum.TextXAlignment.Center
TitleText.Parent = TopbarFrame
TitleText.LayoutOrder = 2 -- Positions it on the right within the TopbarLayout

-- --- Info Section (Discord and "Chilli Hub - Steal a Brainrot") ---
local InfoFrame = Instance.new("Frame")
InfoFrame.Size = UDim2.new(1, -20, 0, 60) -- Full width minus padding, 60px height
InfoFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
InfoFrame.BorderSizePixel = 0
InfoFrame.CornerRadius = UDim.new(0, 5)
InfoFrame.Parent = MainFrame
InfoFrame.LayoutOrder = 2 -- Below the Topbar

local InfoLayout = Instance.new("UIListLayout")
InfoLayout.FillDirection = Enum.FillDirection.Vertical
InfoLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
InfoLayout.Padding = UDim.new(0, 2)
InfoLayout.Parent = InfoFrame

local DiscordText = Instance.new("TextLabel")
DiscordText.Size = UDim2.new(1, 0, 0, 20)
DiscordText.Text = "Join our Discord: " .. DISCORD_LINK
DiscordText.Font = Enum.Font.SourceSans
DiscordText.TextColor3 = Color3.fromRGB(180, 180, 255) -- Slightly blue for links
DiscordText.TextSize = 14
DiscordText.BackgroundTransparency = 1
DiscordText.Parent = InfoFrame

local ExternalInfoText = Instance.new("TextLabel")
ExternalInfoText.Size = UDim2.new(1, 0, 0, 25)
ExternalInfoText.Text = "\"Chilli Hub - Steal a Brainrot\"" -- Your provided text
ExternalInfoText.Font = Enum.Font.SourceSans
ExternalInfoText.TextColor3 = Color3.fromRGB(255, 100, 100) -- Reddish emphasis
ExternalInfoText.TextSize = 13
ExternalInfoText.BackgroundTransparency = 1
ExternalInfoText.Parent = InfoFrame

-- --- Features Section ---
local TabsFrame = Instance.new("Frame")
TabsFrame.Size = UDim2.new(1, -20, 0, 0) -- Auto height based on content
TabsFrame.BackgroundTransparency = 1 -- Transparent background
TabsFrame.Parent = MainFrame
TabsFrame.LayoutOrder = 3 -- Below the Info Section

local TabsLayout = Instance.new("UIListLayout")
TabsLayout.FillDirection = Enum.FillDirection.Vertical
TabsLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
TabsLayout.Padding = UDim.new(0, 5) -- Space between feature elements
TabsLayout.Parent = TabsFrame

-- --- Helper function for creating consistent Toggle UI elements ---
local function createToggleUI(parent, labelText, settingRef, onToggleFunc)
    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(1, -20, 0, 30) -- Width adjusted for padding
    frame.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
    frame.BorderSizePixel = 0
    frame.CornerRadius = UDim.new(0, 5)
    frame.Parent = parent

    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(0.7, 0, 1, 0)
    label.Position = UDim2.new(0, 0, 0, 0)
    label.Text = labelText
    label.Font = Enum.Font.SourceSansBold
    label.TextColor3 = Color3.fromRGB(255, 255, 255)
    label.TextSize = 16
    label.TextXAlignment = Enum.TextXAlignment.Left
    label.BackgroundTransparency = 1
    label.Parent = frame

    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0.3, 0, 1, 0)
    button.Position = UDim2.new(0.7, 0, 0, 0)
    button.Text = (settingRef.enabled and "ON" or "OFF")
    button.Font = Enum.Font.SourceSansBold
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.TextSize = 16
    button.BackgroundColor3 = (settingRef.enabled and Color3.fromRGB(0, 150, 0) or Color3.fromRGB(150, 0, 0)) -- Green for ON, Red for OFF
    button.Parent = frame

    button.MouseButton1Click:Connect(function()
        settingRef.enabled = not settingRef.enabled
        button.Text = (settingRef.enabled and "ON" or "OFF")
        button.BackgroundColor3 = (settingRef.enabled and Color3.fromRGB(0, 150, 0) or Color3.fromRGB(150, 0, 0))
        if onToggleFunc then
            onToggleFunc(settingRef.enabled)
        end
    end)
    return frame, label, button
end

-- --- Instantiate Feature Toggles and Input Fields ---

-- Speed Booster (FUNCTIONAL)
local SpeedToggleFrame, _, SpeedToggleButton = createToggleUI(TabsFrame, "SPEED BOOSTER", features.speedBooster, function(enabled)
    applySpeed()
end)
-- Speed Multiplier Input
local SpeedValueFrame = Instance.new("Frame")
SpeedValueFrame.Size = UDim2.new(1, -20, 0, 30)
SpeedValueFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
SpeedValueFrame.CornerRadius = UDim.new(0, 5)
SpeedValueFrame.Parent = TabsFrame

local SpeedValueLabel = Instance.new("TextLabel")
SpeedValueLabel.Size = UDim2.new(0.5, 0, 1, 0)
SpeedValueLabel.Position = UDim2.new(0, 0, 0, 0)
SpeedValueLabel.Text = "SPEED MULTIPLIER"
SpeedValueLabel.Font = Enum.Font.SourceSans
SpeedValueLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
SpeedValueLabel.TextSize = 14
SpeedValueLabel.TextXAlignment = Enum.TextXAlignment.Left
SpeedValueLabel.BackgroundTransparency = 1
SpeedValueLabel.Parent = SpeedValueFrame

local SpeedValueTextBox = Instance.new("TextBox")
SpeedValueTextBox.Size = UDim2.new(0.5, 0, 1, 0)
SpeedValueTextBox.Position = UDim2.new(0.5, 0, 0, 0)
SpeedValueTextBox.Text = tostring(features.speedBooster.value)
SpeedValueTextBox.Font = Enum.Font.SourceSans
SpeedValueTextBox.TextColor3 = Color3.fromRGB(255, 255, 255)
SpeedValueTextBox.TextSize = 16
SpeedValueTextBox.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
SpeedValueTextBox.ClearTextOnFocus = false
SpeedValueTextBox.Parent = SpeedValueFrame

-- Auto Grab (UI-only placeholder)
local AutoGrabToggleFrame, _, AutoGrabToggleButton = createToggleUI(TabsFrame, "AUTO GRAB", features.autoGrab)

-- Stealer (UI-only placeholder)
local StealerToggleFrame, _, StealerToggleButton = createToggleUI(TabsFrame, "STEALER", features.stealer)

-- Helper (UI-only placeholder)
local HelperToggleFrame, _, HelperToggleButton = createToggleUI(TabsFrame, "HELPER", features.helper)

-- Player (UI-only placeholder)
local PlayerToggleFrame, _, PlayerToggleButton = createToggleUI(TabsFrame, "PLAYER", features.player)

-- Farm (UI-only placeholder)
local FarmToggleFrame, _, FarmToggleButton = createToggleUI(TabsFrame, "FARM", features.farm)

-- Auto Fish (UI-only placeholder)
local AutoFishToggleFrame, _, AutoFishToggleButton = createToggleUI(TabsFrame, "AUTO FISH", features.autoFish)

-- Auto Buy Best Rod (UI-only placeholder)
local AutoBuyRodToggleFrame, _, AutoBuyRodToggleButton = createToggleUI(TabsFrame, "AUTO BUY ROD", features.autoBuyBestRod)

-- Sell if less than M/s (UI-only placeholder)
local SellLessFrame = Instance.new("Frame")
SellLessFrame.Size = UDim2.new(1, -20, 0, 30)
SellLessFrame.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
SellLessFrame.BorderSizePixel = 0
SellLessFrame.CornerRadius = UDim.new(0, 5)
SellLessFrame.Parent = TabsFrame

local SellLessLabel = Instance.new("TextLabel")
SellLessLabel.Size = UDim2.new(0.5, 0, 1, 0)
SellLessLabel.Position = UDim2.new(0, 0, 0, 0)
SellLessLabel.Text = "SELL < M/s"
SellLessLabel.Font = Enum.Font.SourceSansBold
SellLessLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
SellLessLabel.TextSize = 16
SellLessLabel.TextXAlignment = Enum.TextXAlignment.Left
SellLessLabel.BackgroundTransparency = 1
SellLessLabel.Parent = SellLessFrame

local SellLessTextBox = Instance.new("TextBox")
SellLessTextBox.Size = UDim2.new(0.5, 0, 1, 0)
SellLessTextBox.Position = UDim2.new(0.5, 0, 0, 0)
SellLessTextBox.Text = tostring(features.sellIfLessThan.value)
SellLessTextBox.Font = Enum.Font.SourceSans
SellLessTextBox.TextColor3 = Color3.fromRGB(255, 255, 255)
SellLessTextBox.TextSize = 16
SellLessTextBox.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
SellLessTextBox.ClearTextOnFocus = false
SellLessTextBox.Parent = SellLessFrame

-- Finder (UI-only placeholder)
local FinderToggleFrame, _, FinderToggleButton = createToggleUI(TabsFrame, "FINDER", features.finder)

-- Server (UI-only placeholder)
local ServerToggleFrame, _, ServerToggleButton = createToggleUI(TabsFrame, "SERVER", features.server)

-- Auto Sell Pets (UI-only placeholder)
local AutoSellPetsToggleFrame, _, AutoSellPetsToggleButton = createToggleUI(TabsFrame, "AUTO SELL PETS", features.autoSellPets)

-- Auto Buy Brainrot (UI-only placeholder)
local AutoBuyBrainrotToggleFrame, _, AutoBuyBrainrotToggleButton = createToggleUI(TabsFrame, "AUTO BUY BRAINROT", features.autoBuyBrainrot)

local AutoBuyBrainrotValueFrame = Instance.new("Frame")
AutoBuyBrainrotValueFrame.Size = UDim2.new(1, -20, 0, 30)
AutoBuyBrainrotValueFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
AutoBuyBrainrotValueFrame.CornerRadius = UDim.new(0, 5)
AutoBuyBrainrotValueFrame.Parent = TabsFrame

local AutoBuyBrainrotValueLabel = Instance.new("TextLabel")
AutoBuyBrainrotValueLabel.Size = UDim2.new(0.5, 0, 1, 0)
AutoBuyBrainrotValueLabel.Position = UDim2.new(0, 0, 0, 0)
AutoBuyBrainrotValueLabel.Text = "BUY AMOUNT (ex: 10k, 10m)"
AutoBuyBrainrotValueLabel.Font = Enum.Font.SourceSans
AutoBuyBrainrotValueLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
AutoBuyBrainrotValueLabel.TextSize = 14
AutoBuyBrainrotValueLabel.TextXAlignment = Enum.TextXAlignment.Left
AutoBuyBrainrotValueLabel.BackgroundTransparency = 1
AutoBuyBrainrotValueLabel.Parent = AutoBuyBrainrotValueFrame

local AutoBuyBrainrotValueTextBox = Instance.new("TextBox")
AutoBuyBrainrotValueTextBox.Size = UDim2.new(0.5, 0, 1, 0)
AutoBuyBrainrotValueTextBox.Position = UDim2.new(0.5, 0, 0, 0)
AutoBuyBrainrotValueTextBox.Text = tostring(features.autoBuyBrainrot.value)
AutoBuyBrainrotValueTextBox.Font = Enum.Font.SourceSans
AutoBuyBrainrotValueTextBox.TextColor3 = Color3.fromRGB(255, 255, 255)
AutoBuyBrainrotValueTextBox.TextSize = 16
AutoBuyBrainrotValueTextBox.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
AutoBuyBrainrotValueTextBox.ClearTextOnFocus = false
AutoBuyBrainrotValueTextBox.Parent = AutoBuyBrainrotValueFrame


-- UIAspectRatioConstraint to maintain GUI proportions when resized
local AspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
AspectRatioConstraint.AspectRatio = 300/450 -- Width / Height ratio
AspectRatioConstraint.AspectType = Enum.AspectType.FitWithinMaxSize
AspectRatioConstraint.Parent = MainFrame

-- --- Core Logic Functions ---

-- FUNCTIONAL: Applies the speed booster setting to the Humanoid
local function applySpeed()
    if Humanoid then
        if features.speedBooster.enabled then
            Humanoid.WalkSpeed = DEFAULT_WALKSPEED * features.speedBooster.value
        else
            Humanoid.WalkSpeed = DEFAULT_WALKSPEED
        end
        print("WalkSpeed set to: " .. Humanoid.WalkSpeed)
    end
end

-- FUNCTIONAL: Updates the speed multiplier from the textbox
local function updateSpeedValue()
    local success, numValue = pcall(function() return tonumber(SpeedValueTextBox.Text) end)
    if success and numValue and numValue > 0 and numValue <= 100 then -- Clamp value for sanity
        features.speedBooster.value = numValue
        SpeedValueTextBox.Text = tostring(numValue)
        applySpeed()
        print("Speed multiplier updated to: " .. numValue)
    else
        warn("Invalid speed multiplier input:", SpeedValueTextBox.Text)
        SpeedValueTextBox.Text = tostring(features.speedBooster.value) -- Revert to last valid
    end
end

-- CONCEPTUAL: Function to attempt to steal a "Brainrot" (UI-only placeholder)
local function attemptStealBrainrot()
    if features.stealer.enabled and RootPart and (os.time() - features.stealer.lastStealTime >= STEAL_COOLDOWN) then
        features.stealer.lastStealTime = os.time()
        -- Implement game-specific logic here if you intend to make this functional with an executor.
        -- This would involve finding targets, firing RemoteEvents, etc.
        print("Simulated steal attempt. Requires game-specific RemoteEvent and server validation.")
    end
end

-- CONCEPTUAL: Function to attempt to auto grab items (UI-only placeholder)
local function attemptAutoGrab()
    if features.autoGrab.enabled and RootPart and (os.time() - features.autoGrab.lastGrabTime >= GRAB_COOLDOWN) then
        features.autoGrab.lastGrabTime = os.time()
        -- Implement game-specific logic here if you intend to make this functional with an executor.
        -- This would involve finding items, simulating interaction (touch/click), firing RemoteEvents.
        print("Simulated auto grab attempt. Requires game-specific logic.")
    end
end

-- --- Event Connections ---

-- Speed Booster connections
SpeedToggleButton.MouseButton1Click:Connect(function()
    features.speedBooster.enabled = not features.speedBooster.enabled
    SpeedToggleButton.Text = (features.speedBooster.enabled and "ON" or "OFF")
    SpeedToggleButton.BackgroundColor3 = (features.speedBooster.enabled and Color3.fromRGB(0, 150, 0) or Color3.fromRGB(150, 0, 0))
    applySpeed()
end)
SpeedValueTextBox.FocusLost:Connect(function(enterPressed)
    if enterPressed then updateSpeedValue() end
end)

-- Toggle connections for all other conceptual features
StealerToggleButton.MouseButton1Click:Connect(function() features.stealer.enabled = not features.stealer.enabled end)
HelperToggleButton.MouseButton1Click:Connect(function() features.helper.enabled = not features.helper.enabled end)
PlayerToggleButton.MouseButton1Click:Connect(function() features.player.enabled = not features.player.enabled end)
FarmToggleButton.MouseButton1Click:Connect(function() features.farm.enabled = not features.farm.enabled end)
AutoFishToggleButton.MouseButton1Click:Connect(function() features.autoFish.enabled = not features.autoFish.enabled end)
AutoBuyRodToggleButton.MouseButton1Click:Connect(function() features.autoBuyBestRod.enabled = not features.autoBuyBestRod.enabled end)
FinderToggleButton.MouseButton1Click:Connect(function() features.finder.enabled = not features.finder.enabled end)
ServerToggleButton.MouseButton1Click:Connect(function() features.server.enabled = not features.server.enabled end)
AutoSellPetsToggleButton.MouseButton1Click:Connect(function() features.autoSellPets.enabled = not features.autoSellPets.enabled end)
AutoBuyBrainrotToggleButton.MouseButton1Click:Connect(function() features.autoBuyBrainrot.enabled = not features.autoBuyBrainrot.enabled end)
AutoGrabToggleButton.MouseButton1Click:Connect(function() features.autoGrab.enabled = not features.autoGrab.enabled end)

-- Input field connections for values
SellLessTextBox.FocusLost:Connect(function(enterPressed)
    if enterPressed then
        local success, numValue = pcall(function() return tonumber(SellLessTextBox.Text) end)
        if success and numValue and numValue >= 0 then
            features.sellIfLessThan.value = numValue
            SellLessTextBox.Text = tostring(numValue)
        else
            warn("Invalid 'Sell if less than' input:", SellLessTextBox.Text)
            SellLessTextBox.Text = tostring(features.sellIfLessThan.value)
        end
    end
end)

AutoBuyBrainrotValueTextBox.FocusLost:Connect(function(enterPressed)
    if enterPressed then
        local success, numValue = pcall(function() return tonumber(AutoBuyBrainrotValueTextBox.Text) end)
        if success and numValue and numValue > 0 then
            features.autoBuyBrainrot.value = numValue
            AutoBuyBrainrotValueTextBox.Text = tostring(numValue)
        else
            warn("Invalid 'Auto Buy Brainrot' input:", AutoBuyBrainrotValueTextBox.Text)
            AutoBuyBrainrotValueTextBox.Text = tostring(features.autoBuyBrainrot.value)
        end
    end
end)

-- Re-apply speed if character respawns
LocalPlayer.CharacterAdded:Connect(function(newCharacter)
    Character = newCharacter
    Humanoid = newCharacter:WaitForChild("Humanoid")
    RootPart = newCharacter:WaitForChild("HumanoidRootPart")
    Humanoid.WalkSpeed = DEFAULT_WALKSPEED -- Reset on spawn
    task.wait(0.1) -- Small delay to ensure Humanoid is fully ready
    applySpeed() -- Apply current booster setting
end)

-- --- Main Loop for Auto Features (runs constantly) ---
RunService.Stepped:Connect(function()
    -- Ensure essential character parts exist before running loops
    if not Character or not RootPart or not Humanoid then return end

    local currentTime = os.time()

    -- Auto Steal Logic (CONCEPTUAL)
    if features.stealer.enabled then
        attemptStealBrainrot() -- This function contains the placeholder logic.
    end

    -- Auto Grab Logic (CONCEPTUAL)
    if features.autoGrab.enabled then
        attemptAutoGrab() -- This function contains the placeholder logic.
    end

    -- Add placeholder logic for other features here if you decide to implement them with an executor.
    -- Example for Auto Fish:
    -- if features.autoFish.enabled and (currentTime - features.autoFish.lastActionTime >= FISHING_COOLDOWN) then
    --     features.autoFish.lastActionTime = currentTime
    --     print("Simulating fishing action...")
    --     -- Your executor-specific code for fishing here.
    -- end

    -- Example for Auto Sell Pets:
    -- if features.autoSellPets.enabled and (currentTime - features.autoSellPets.lastActionTime >= SELL_COOLDOWN) then
    --     features.autoSellPets.lastActionTime = currentTime
    --     print("Simulating auto selling pets...")
    --     -- Your executor-specific code for selling pets here.
    -- end
end)

-- Initial application of speed when the script first loads
applySpeed()

print(HUB_NAME .. " UI Loaded for " .. LocalPlayer.Name .. "!")
print("Initial WalkSpeed: " .. Humanoid.WalkSpeed)

-- Toggle UI visibility with a key (RightControl)
UserInputService.InputBegan:Connect(function(input, gameProcessedEvent)
    if gameProcessedEvent then return end -- Ignore if Roblox already processed this input
    if input.KeyCode == Enum.KeyCode.RightControl then
        MainFrame.Visible = not MainFrame.Visible
        print("UI Visibility Toggled: " .. tostring(MainFrame.Visible))
    end
end)
